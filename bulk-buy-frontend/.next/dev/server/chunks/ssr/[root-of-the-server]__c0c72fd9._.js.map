{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 9, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/inter_5972bc34.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"className\": \"inter_5972bc34-module__OU16Qa__className\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/inter_5972bc34.js"],"sourcesContent":["import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22layout.tsx%22,%22import%22:%22Inter%22,%22arguments%22:[{%22subsets%22:[%22latin%22]}],%22variableName%22:%22inter%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Inter', 'Inter Fallback'\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n"],"names":[],"mappings":";;;;AAAA;;AACA,MAAM,WAAW;IACb,WAAW,gKAAS,CAAC,SAAS;IAC9B,OAAO;QACH,YAAY;QACZ,WAAW;IAEf;AACJ;AAEA,IAAI,gKAAS,CAAC,QAAQ,IAAI,MAAM;IAC5B,SAAS,QAAQ,GAAG,gKAAS,CAAC,QAAQ;AAC1C;uCAEe","ignoreList":[0]}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bless/OneDrive/Desktop/BULK-BUY-ENTERPRISE/bulk-buy-frontend/lib/react-query.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { QueryClient } from \"@tanstack/react-query\";\r\n\r\nexport const queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      retry: 1,\r\n      refetchOnWindowFocus: false,\r\n    },\r\n  },\r\n});\r\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AAIO,MAAM,cAAc,IAAI,iSAAW,CAAC;IACzC,gBAAgB;QACd,SAAS;YACP,OAAO;YACP,sBAAsB;QACxB;IACF;AACF"}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bless/OneDrive/Desktop/BULK-BUY-ENTERPRISE/bulk-buy-frontend/lib/api.ts"],"sourcesContent":["api.interceptors.request.use((config) => {\r\n  // 1. Try LocalStorage\r\n  let token = localStorage.getItem(\"token\");\r\n\r\n  // 2. If not in LocalStorage, try Cookies\r\n  if (!token && typeof document !== \"undefined\") {\r\n    token = document.cookie\r\n      .split(\"; \")\r\n      .find((row) => row.startsWith(\"accessToken=\"))\r\n      ?.split(\"=\")[1];\r\n  }\r\n\r\n  // 3. LOG FOR DEBUGGING (Delete this after it works)\r\n  console.log(\"ðŸ›¡ï¸ Interceptor Token Found:\", token ? \"YES (starts with \" + token.substring(0,5) + \")\" : \"NO\");\r\n\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  \r\n  return config;\r\n}, (error) => {\r\n  return Promise.reject(error);\r\n});"],"names":[],"mappings":"AAAA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,sBAAsB;IACtB,IAAI,QAAQ,aAAa,OAAO,CAAC;IAEjC,yCAAyC;IACzC,IAAI,CAAC,SAAS,OAAO,aAAa,aAAa;QAC7C,QAAQ,SAAS,MAAM,CACpB,KAAK,CAAC,MACN,IAAI,CAAC,CAAC,MAAQ,IAAI,UAAU,CAAC,kBAC5B,MAAM,IAAI,CAAC,EAAE;IACnB;IAEA,oDAAoD;IACpD,QAAQ,GAAG,CAAC,gCAAgC,QAAQ,sBAAsB,MAAM,SAAS,CAAC,GAAE,KAAK,MAAM;IAEvG,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IAEA,OAAO;AACT,GAAG,CAAC;IACF,OAAO,QAAQ,MAAM,CAAC;AACxB"}},
    {"offset": {"line": 75, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bless/OneDrive/Desktop/BULK-BUY-ENTERPRISE/bulk-buy-frontend/lib/auth.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport {api} from \"./api\"; // Remove the { } brackets\r\n\r\nexport const registerUser = (data: {\r\n  email: string;\r\n  password: string;\r\n  role: \"BUYER\" | \"VENDOR\";\r\n  organizationName?: string;\r\n}) => api.post(\"/auth/register\", data);\r\n\r\nexport const loginUser = (data: {\r\n  email: string;\r\n  password: string;\r\n}) => api.post(\"/auth/login\", data);\r\n\r\nexport const verifyEmail = (token: string) =>\r\n  api.get(`/auth/verify-email?token=${token}`);\r\nexport const forgotPassword = (email: string) =>\r\n  api.post(\"/auth/forgot-password\", { email });\r\n\r\nexport const resetPassword = (data: {\r\n  token: string;\r\n  password: string;\r\n}) => api.post(\"/auth/reset-password\", data);\r\n\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5000/api\";\r\nexport const getMe = async (token?: string) => {\r\n  const headers = token ? { Authorization: `Bearer ${token}` } : {};\r\n  return api.get(\"/auth/me\", { headers });\r\n};\r\n\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,sOAA2B,0BAA0B;;AAE9C,MAAM,eAAe,CAAC,OAKvB,4IAAG,CAAC,IAAI,CAAC,kBAAkB;AAE1B,MAAM,YAAY,CAAC,OAGpB,4IAAG,CAAC,IAAI,CAAC,eAAe;AAEvB,MAAM,cAAc,CAAC,QAC1B,4IAAG,CAAC,GAAG,CAAC,CAAC,yBAAyB,EAAE,OAAO;AACtC,MAAM,iBAAiB,CAAC,QAC7B,4IAAG,CAAC,IAAI,CAAC,yBAAyB;QAAE;IAAM;AAErC,MAAM,gBAAgB,CAAC,OAGxB,4IAAG,CAAC,IAAI,CAAC,wBAAwB;AAEvC,MAAM,eAAe,gGAAmC;AACjD,MAAM,QAAQ,OAAO;IAC1B,MAAM,UAAU,QAAQ;QAAE,eAAe,CAAC,OAAO,EAAE,OAAO;IAAC,IAAI,CAAC;IAChE,OAAO,4IAAG,CAAC,GAAG,CAAC,YAAY;QAAE;IAAQ;AACvC"}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bless/OneDrive/Desktop/BULK-BUY-ENTERPRISE/bulk-buy-frontend/context/AuthContext.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { createContext, useContext, useEffect, useState, useCallback } from \"react\";\r\nimport { getMe } from \"@/lib/auth\";\r\n\r\ntype User = {\r\n  _id: string;\r\n  email: string;\r\n  role: \"BUYER\" | \"VENDOR\" | \"ADMIN\";\r\n  organizationId: string;\r\n};\r\n\r\ntype AuthContextType = {\r\n  user: User | null;\r\n  loading: boolean;\r\n  refreshUser: (tokenOverride?: string) => Promise<void>;\r\n  logout: () => void;\r\n};\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport const AuthProvider = ({ children }: { children: React.ReactNode }) => {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const refreshUser = useCallback(async (tokenOverride?: string) => {\r\n    try {\r\n      // Pass the token directly if we just logged in\r\n      const res = await getMe(tokenOverride);\r\n      setUser(res.data.user ?? res.data);\r\n    } catch (error: any) {\r\n      if (error.response?.status === 401) {\r\n        setUser(null);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const logout = useCallback(() => {\r\n    document.cookie = \"accessToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC;\";\r\n    localStorage.removeItem(\"accessToken\");\r\n    setUser(null);\r\n    window.location.href = \"/login\";\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    refreshUser();\r\n  }, [refreshUser]);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, loading, refreshUser, logout }}>\r\n      {!loading ? children : (\r\n        <div className=\"h-screen w-screen flex items-center justify-center bg-slate-50\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n        </div>\r\n      )}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => {\r\n  const ctx = useContext(AuthContext);\r\n  if (!ctx) throw new Error(\"useAuth must be used inside AuthProvider\");\r\n  return ctx;\r\n};"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAHA;;;;AAmBA,MAAM,4BAAc,IAAA,gWAAa,EAA8B;AAExD,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,2VAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,2VAAQ,EAAC;IAEvC,MAAM,cAAc,IAAA,8VAAW,EAAC,OAAO;QACrC,IAAI;YACF,+CAA+C;YAC/C,MAAM,MAAM,MAAM,IAAA,+IAAK,EAAC;YACxB,QAAQ,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,IAAI;QACnC,EAAE,OAAO,OAAY;YACnB,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;gBAClC,QAAQ;YACV;QACF,SAAU;YACR,WAAW;QACb;IACF,GAAG,EAAE;IAEL,MAAM,SAAS,IAAA,8VAAW,EAAC;QACzB,SAAS,MAAM,GAAG;QAClB,aAAa,UAAU,CAAC;QACxB,QAAQ;QACR,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB,GAAG,EAAE;IAEL,IAAA,4VAAS,EAAC;QACR;IACF,GAAG;QAAC;KAAY;IAEhB,qBACE,wXAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;YAAa;QAAO;kBAC/D,CAAC,UAAU,yBACV,wXAAC;YAAI,WAAU;sBACb,cAAA,wXAAC;gBAAI,WAAU;;;;;;;;;;;;;;;;AAKzB;AAEO,MAAM,UAAU;IACrB,MAAM,MAAM,IAAA,6VAAU,EAAC;IACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO;AACT"}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bless/OneDrive/Desktop/BULK-BUY-ENTERPRISE/bulk-buy-frontend/app/layout.tsx"],"sourcesContent":["\"use client\";\nimport { Toaster } from 'sonner';\nimport { Inter } from \"next/font/google\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { queryClient } from \"@/lib/react-query\";\nimport { AuthProvider } from \"@/context/AuthContext\";\n\nimport \"./globals.css\";\n\nconst inter = Inter({ subsets: [\"latin\"] });\n\nexport default function RootLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  return (\n    <html lang=\"en\" className=\"scroll-smooth\">\n      <body\n        className={`${inter.className} bg-slate-50 text-slate-900 antialiased`}\n      >\n\n        <QueryClientProvider client={queryClient}>\n          <AuthProvider>\n            <div className=\"min-h-screen flex flex-col\">\n              <main className=\"flex-grow\">{children}</main>\n            </div>\n\n            <Toaster\n              position=\"top-right\"\n              toastOptions={{\n                duration: 4000,\n                style: {\n                  background: \"#333\",\n                  color: \"#fff\",\n                  borderRadius: \"8px\",\n                },\n              }}\n            />\n          </AuthProvider>\n        </QueryClientProvider>\n        <Toaster theme=\"dark\" closeButton richColors />\n      </body>\n    </html>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;;AAEA;AACA;AACA;AALA;;;;;;;;AAWe,SAAS,WAAW,EACjC,QAAQ,EAGT;IACC,qBACE,wXAAC;QAAK,MAAK;QAAK,WAAU;kBACxB,cAAA,wXAAC;YACC,WAAW,GAAG,oJAAK,CAAC,SAAS,CAAC,uCAAuC,CAAC;;8BAGtE,wXAAC,yUAAmB;oBAAC,QAAQ,+JAAW;8BACtC,cAAA,wXAAC,kKAAY;;0CACX,wXAAC;gCAAI,WAAU;0CACb,cAAA,wXAAC;oCAAK,WAAU;8CAAa;;;;;;;;;;;0CAG/B,wXAAC,8SAAO;gCACN,UAAS;gCACT,cAAc;oCACZ,UAAU;oCACV,OAAO;wCACL,YAAY;wCACZ,OAAO;wCACP,cAAc;oCAChB;gCACF;;;;;;;;;;;;;;;;;8BAIN,wXAAC,8SAAO;oBAAC,OAAM;oBAAO,WAAW;oBAAC,UAAU;;;;;;;;;;;;;;;;;AAIpD"}}]
}