{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bless/OneDrive/Desktop/BULK-BUY-ENETRPRISE/frontend/bulk-buy-frontend/app/buyer/rfq/list/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { api } from \"@/lib/api\";\r\nimport Link from \"next/link\";\r\nimport { \r\n  LayoutDashboard, \r\n  Inbox, \r\n  CheckCircle2, \r\n  Clock, \r\n  ArrowUpRight, \r\n  DollarSign, \r\n  Users, \r\n  BarChart3,\r\n  Search,\r\n  Filter\r\n} from \"lucide-react\";\r\n\r\nexport default function VendorDashboard() {\r\n  const { data: rfqs, isLoading } = useQuery({\r\n    queryKey: [\"vendor-rfqs\"],\r\n    queryFn: async () => {\r\n      const res = await api.get(\"/rfq/vendor\"); // Endpoint for vendor-specific RFQs\r\n      return res.data;\r\n    }\r\n  });\r\n\r\n  const stats = [\r\n    { \r\n      label: \"Open Leads\", \r\n      value: rfqs?.filter((r: any) => r.status === 'PENDING').length || 0, \r\n      icon: Inbox, \r\n      color: \"text-blue-500\",\r\n      bg: \"bg-blue-500/10\"\r\n    },\r\n    { \r\n      label: \"In Negotiation\", \r\n      value: rfqs?.filter((r: any) => r.status === 'NEGOTIATING').length || 0, \r\n      icon: Clock, \r\n      color: \"text-amber-500\",\r\n      bg: \"bg-amber-500/10\"\r\n    },\r\n    { \r\n      label: \"Contracts Won\", \r\n      value: rfqs?.filter((r: any) => r.status === 'ACCEPTED').length || 0, \r\n      icon: CheckCircle2, \r\n      color: \"text-emerald-500\",\r\n      bg: \"bg-emerald-500/10\"\r\n    }\r\n  ];\r\n\r\n  if (isLoading) return <div className=\"p-20 text-center font-black text-slate-400 animate-pulse tracking-[0.5em]\">INITIALIZING VENDOR TERMINAL...</div>;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#020617] text-slate-100 p-8\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        \r\n        {/* TOP BAR */}\r\n        <header className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-12\">\r\n          <div>\r\n            <h1 className=\"text-4xl font-[1000] tracking-tighter uppercase italic\">Sales Intelligence</h1>\r\n            <p className=\"text-slate-500 font-bold text-sm tracking-wide mt-1\">Manage bulk procurement requests and high-value contracts.</p>\r\n          </div>\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"relative hidden md:block\">\r\n              <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500\" size={16} />\r\n              <input \r\n                type=\"text\" \r\n                placeholder=\"Search Contracts...\" \r\n                className=\"bg-[#0F172A] border border-blue-900/30 rounded-xl pl-12 pr-6 py-3 text-sm focus:border-blue-500 transition-all outline-none w-64\"\r\n              />\r\n            </div>\r\n            <button className=\"p-3 bg-[#0F172A] border border-blue-900/30 rounded-xl text-slate-400 hover:text-white transition-colors\">\r\n              <Filter size={20} />\r\n            </button>\r\n          </div>\r\n        </header>\r\n\r\n        {/* METRICS GRID */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12\">\r\n          {stats.map((stat, i) => (\r\n            <div key={i} className=\"bg-[#0F172A] p-8 rounded-[2.5rem] border border-blue-900/20 shadow-2xl relative overflow-hidden group\">\r\n              <div className={`absolute -right-4 -top-4 w-24 h-24 opacity-5 group-hover:opacity-10 transition-opacity ${stat.color}`}>\r\n                <stat.icon size={96} />\r\n              </div>\r\n              <div className={`w-12 h-12 ${stat.bg} ${stat.color} rounded-2xl flex items-center justify-center mb-6`}>\r\n                <stat.icon size={24} />\r\n              </div>\r\n              <p className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-1\">{stat.label}</p>\r\n              <p className=\"text-4xl font-[1000] text-white tracking-tighter\">{stat.value}</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* RECENT ACTIVITY / LEADS TABLE */}\r\n        <div className=\"bg-[#0F172A] rounded-[3rem] border border-blue-900/20 shadow-2xl overflow-hidden\">\r\n          <div className=\"p-8 border-b border-blue-900/10 flex justify-between items-center\">\r\n            <h2 className=\"text-xl font-black uppercase tracking-tighter italic\">Active Negotiation Ledger</h2>\r\n            <button className=\"text-[10px] font-black text-blue-500 uppercase tracking-[0.2em] hover:text-blue-400 transition-colors\">Export CSV</button>\r\n          </div>\r\n\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full text-left border-collapse\">\r\n              <thead>\r\n                <tr className=\"bg-[#1E293B]/20\">\r\n                  <th className=\"px-8 py-5 text-[9px] font-black text-slate-500 uppercase tracking-[0.2em]\">Lead Details</th>\r\n                  <th className=\"px-8 py-5 text-[9px] font-black text-slate-500 uppercase tracking-[0.2em]\">Buyer Organization</th>\r\n                  <th className=\"px-8 py-5 text-[9px] font-black text-slate-500 uppercase tracking-[0.2em]\">Contract Value</th>\r\n                  <th className=\"px-8 py-5 text-[9px] font-black text-slate-500 uppercase tracking-[0.2em]\">Status</th>\r\n                  <th className=\"px-8 py-5 text-[9px] font-black text-slate-500 uppercase tracking-[0.2em] text-right\">Terminal</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"divide-y divide-blue-900/10\">\r\n                {rfqs?.map((rfq: any) => (\r\n                  <tr key={rfq._id} className=\"hover:bg-blue-600/5 transition-all group\">\r\n                    <td className=\"px-8 py-6\">\r\n                      <div className=\"flex items-center gap-4\">\r\n                        <div className=\"w-10 h-10 bg-[#1E293B] rounded-lg flex items-center justify-center border border-blue-900/20 text-blue-400\">\r\n                          <BarChart3 size={18} />\r\n                        </div>\r\n                        <div>\r\n                          <p className=\"text-sm font-black text-white\">{rfq.productId?.name}</p>\r\n                          <p className=\"text-[10px] text-slate-500 font-bold uppercase tracking-tighter\">Qty: {rfq.quantity.toLocaleString()}</p>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-8 py-6\">\r\n                      <p className=\"text-sm font-bold text-slate-300\">{rfq.buyerId?.organizationName || \"Enterprise Buyer\"}</p>\r\n                      <p className=\"text-[10px] text-slate-500 font-medium lowercase italic\">{rfq.buyerId?.email}</p>\r\n                    </td>\r\n                    <td className=\"px-8 py-6\">\r\n                      <p className=\"text-sm font-black text-white\">${(rfq.quantity * (rfq.vendorCounterPrice || rfq.targetUnitPrice)).toLocaleString()}</p>\r\n                      <p className=\"text-[9px] text-emerald-500 font-bold uppercase tracking-widest\">GTV Projection</p>\r\n                    </td>\r\n                    <td className=\"px-8 py-6\">\r\n                      <span className={`px-3 py-1 rounded-md text-[9px] font-black uppercase tracking-widest border ${\r\n                        rfq.status === 'ACCEPTED' ? 'bg-emerald-500/10 text-emerald-500 border-emerald-500/20' :\r\n                        rfq.status === 'NEGOTIATING' ? 'bg-amber-500/10 text-amber-500 border-amber-500/20' :\r\n                        'bg-blue-500/10 text-blue-500 border-blue-500/20'\r\n                      }`}>\r\n                        {rfq.status}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-8 py-6 text-right\">\r\n                      <Link \r\n                        href={`/vendor/rfq/${rfq._id}`}\r\n                        className=\"inline-flex items-center gap-2 bg-blue-600/10 text-blue-400 px-4 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest hover:bg-blue-600 hover:text-white transition-all group/btn\"\r\n                      >\r\n                        Review Lead\r\n                        <ArrowUpRight size={14} className=\"group-hover/btn:translate-x-0.5 group-hover/btn:-translate-y-0.5 transition-transform\" />\r\n                      </Link>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          \r\n          {(!rfqs || rfqs.length === 0) && (\r\n            <div className=\"p-20 text-center\">\r\n              <Inbox className=\"mx-auto text-slate-700 mb-4\" size={48} />\r\n              <p className=\"text-slate-500 font-bold uppercase tracking-widest text-xs\">No active leads in transmission.</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}