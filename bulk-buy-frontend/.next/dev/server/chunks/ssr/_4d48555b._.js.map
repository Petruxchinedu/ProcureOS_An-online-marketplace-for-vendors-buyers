{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bless/OneDrive/Desktop/BULK-BUY-ENETRPRISE/frontend/bulk-buy-frontend/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,oOAAO,EAAC,IAAA,8LAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bless/OneDrive/Desktop/BULK-BUY-ENETRPRISE/frontend/bulk-buy-frontend/app/vendor/rfq/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { api } from \"@/lib/api\";\r\nimport { \r\n  Inbox, \r\n  Calendar, \r\n  ArrowRight, \r\n  Loader2, \r\n  Trash2, \r\n  FileText, \r\n  Zap, \r\n  CheckCircle2, \r\n  ShieldAlert \r\n} from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { toast } from \"sonner\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport default function VendorRFQInbox() {\r\n  const queryClient = useQueryClient();\r\n\r\n  // 1. Fetch Data\r\n  const { data: rfqs, isLoading } = useQuery({\r\n    queryKey: [\"vendor-rfqs\"],\r\n    queryFn: async () => {\r\n      const res = await api.get(\"/rfq/vendor\");\r\n      return Array.isArray(res.data) ? res.data : [];\r\n    }\r\n  });\r\n\r\n  // 2. Delete Mutation (Only for accepted deals)\r\n  const deleteMutation = useMutation({\r\n    mutationFn: async (rfqId: string) => {\r\n      return await api.delete(`/rfq/${rfqId}`);\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: [\"vendor-rfqs\"] });\r\n      toast.success(\"Record cleared from ledger\");\r\n    },\r\n    onError: () => {\r\n      toast.error(\"Failed to purge record\");\r\n    }\r\n  });\r\n\r\n  const handleDelete = (e: React.MouseEvent, id: string) => {\r\n    e.preventDefault(); // Prevent link navigation\r\n    if (confirm(\"Purge this finalized contract from your active view?\")) {\r\n      deleteMutation.mutate(id);\r\n    }\r\n  };\r\n\r\n  if (isLoading) return (\r\n    <div className=\"min-h-screen bg-[#020617] flex flex-col items-center justify-center\">\r\n      <Loader2 className=\"animate-spin text-blue-500 mb-4\" size={40} />\r\n      <p className=\"text-slate-500 font-black tracking-[0.3em] text-xs uppercase\">Syncing Leads...</p>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#020617] text-slate-100 p-6 md:p-12\">\r\n      <div className=\"max-w-6xl mx-auto\">\r\n        \r\n        {/* EXECUTIVE HEADER */}\r\n        <div className=\"flex flex-col md:flex-row justify-between items-end mb-12 gap-6\">\r\n          <div>\r\n            <div className=\"flex items-center gap-3 mb-2\">\r\n              <div className=\"w-2 h-2 rounded-full bg-blue-500 animate-pulse\" />\r\n              <span className=\"text-[10px] font-black text-blue-500 uppercase tracking-[0.4em]\">Live Pipeline</span>\r\n            </div>\r\n            <h1 className=\"text-5xl font-[1000] tracking-tighter uppercase italic\">Lead Inbox</h1>\r\n            <p className=\"text-slate-500 font-bold text-sm mt-2\">Executive-grade monitoring of high-value procurement requests.</p>\r\n          </div>\r\n          <div className=\"bg-[#0F172A] border border-blue-900/30 px-6 py-3 rounded-2xl\">\r\n            <p className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest\">Active Pipeline Value</p>\r\n            <p className=\"text-2xl font-black text-emerald-500\">\r\n              ${rfqs?.reduce((acc: number, r: any) => acc + (r.quantity * (r.targetUnitPrice || 0)), 0).toLocaleString()}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid gap-6\">\r\n          {!rfqs || rfqs.length === 0 ? (\r\n            <div className=\"bg-[#0F172A] border-2 border-dashed border-blue-900/20 rounded-[3rem] p-32 text-center\">\r\n              <Inbox className=\"mx-auto text-slate-800 mb-6\" size={64} />\r\n              <p className=\"text-slate-500 font-black uppercase tracking-widest\">No signals detected in the terminal.</p>\r\n            </div>\r\n          ) : (\r\n            rfqs.map((rfq: any) => {\r\n              const isAccepted = rfq.status?.toUpperCase() === 'ACCEPTED';\r\n              const dealValue = rfq.quantity * (rfq.vendorCounterPrice || rfq.targetUnitPrice || 0);\r\n\r\n              return (\r\n                <div \r\n                  key={rfq._id} \r\n                  className={cn(\r\n                    \"relative overflow-hidden bg-[#0F172A] border border-blue-900/20 rounded-[2.5rem] p-8 transition-all group hover:border-blue-500/40\",\r\n                    isAccepted && \"border-emerald-500/20 bg-emerald-500/[0.01]\"\r\n                  )}\r\n                >\r\n                  <div className=\"flex flex-wrap md:flex-nowrap gap-8 items-center relative z-10\">\r\n                    \r\n                    {/* Visual Indicator */}\r\n                    <div className={cn(\r\n                      \"w-20 h-20 rounded-[2rem] flex items-center justify-center shrink-0 border transition-transform group-hover:scale-110\",\r\n                      isAccepted ? \"bg-emerald-500/10 border-emerald-500/20 text-emerald-400\" : \"bg-blue-500/10 border-blue-500/20 text-blue-400\"\r\n                    )}>\r\n                      {isAccepted ? <CheckCircle2 size={32} /> : <Zap size={32} className=\"fill-current\" />}\r\n                    </div>\r\n\r\n                    {/* Product & Buyer Info */}\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center gap-3 mb-3\">\r\n                        <span className={cn(\r\n                          \"text-[9px] font-black uppercase tracking-[0.2em] px-3 py-1 rounded-full border\",\r\n                          isAccepted ? \"bg-emerald-500/20 text-emerald-400 border-emerald-500/30\" : \"bg-blue-500/20 text-blue-400 border-blue-500/30\"\r\n                        )}>\r\n                          {rfq.status}\r\n                        </span>\r\n                        <span className=\"text-[10px] text-slate-500 font-bold flex items-center gap-1\">\r\n                          <Calendar size={12} /> {new Date(rfq.createdAt).toLocaleDateString()}\r\n                        </span>\r\n                      </div>\r\n                      <h3 className=\"font-black text-2xl text-white leading-none tracking-tight mb-2 uppercase italic\">{rfq.productId?.name}</h3>\r\n                      <p className=\"text-sm text-slate-400 font-bold\">\r\n                        Buyer: <span className=\"text-slate-200\">{rfq.buyerId?.organizationName || \"Private Enterprise\"}</span>\r\n                      </p>\r\n                    </div>\r\n\r\n                    {/* Financial Projection */}\r\n                    <div className=\"px-8 md:border-x border-blue-900/20 text-right\">\r\n                      <p className=\"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] mb-1\">Contract Value</p>\r\n                      <p className=\"text-3xl font-[1000] text-white tracking-tighter tabular-nums\">\r\n                        ${dealValue.toLocaleString()}\r\n                      </p>\r\n                      <p className=\"text-[10px] text-emerald-500 font-black uppercase tracking-widest\">\r\n                        {rfq.quantity.toLocaleString()} Units\r\n                      </p>\r\n                    </div>\r\n\r\n                    {/* Action Hub */}\r\n                    <div className=\"flex flex-col gap-3 min-w-[200px]\">\r\n                      {isAccepted ? (\r\n                        <div className=\"flex gap-2\">\r\n                          <Link \r\n                            href={`/vendor/invoice/${rfq._id}`}\r\n                            className=\"flex-1 bg-emerald-500 text-black py-4 rounded-2xl flex items-center justify-center gap-2 font-black text-[10px] uppercase tracking-widest hover:bg-white transition-all shadow-[0_0_20px_rgba(16,185,129,0.2)]\"\r\n                          >\r\n                            <FileText size={16} /> Invoice\r\n                          </Link>\r\n                          {/* DELETE OPTION - ONLY FOR ACCEPTED DEALS */}\r\n                          <button \r\n                            onClick={(e) => handleDelete(e, rfq._id)}\r\n                            className=\"p-4 bg-red-500/10 text-red-500 rounded-2xl border border-red-500/20 hover:bg-red-500 hover:text-white transition-all\"\r\n                            title=\"Purge Record\"\r\n                          >\r\n                            <Trash2 size={18} />\r\n                          </button>\r\n                        </div>\r\n                      ) : (\r\n                        <Link \r\n                          href={`/vendor/rfq/${rfq._id}`}\r\n                          className=\"w-full bg-blue-600 text-white py-4 rounded-2xl flex items-center justify-center gap-2 font-black text-[10px] uppercase tracking-widest hover:bg-white hover:text-blue-600 transition-all group/btn\"\r\n                        >\r\n                          Negotiation Terminal <ArrowRight size={16} className=\"group-hover/btn:translate-x-1 transition-transform\" />\r\n                        </Link>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Aesthetic Background Pattern */}\r\n                  <div className=\"absolute right-0 top-0 w-64 h-full bg-gradient-to-l from-blue-500/[0.02] to-transparent pointer-events-none\" />\r\n                </div>\r\n              );\r\n            })\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}