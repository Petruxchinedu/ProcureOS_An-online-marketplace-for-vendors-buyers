{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bless/OneDrive/Desktop/BULK-BUY-ENETRPRISE/frontend/bulk-buy-frontend/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,oOAAO,EAAC,IAAA,8LAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bless/OneDrive/Desktop/BULK-BUY-ENETRPRISE/frontend/bulk-buy-frontend/app/vendor/inventory/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { api } from \"@/lib/api\";\r\nimport { \r\n  Plus, Package, Edit3, Trash2, Loader2, \r\n  BarChart3, Boxes, DollarSign, ArrowUpRight,\r\n  ShieldCheck, Search\r\n} from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { toast } from \"sonner\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { useState } from \"react\"; // 1. Import useState\r\n\r\nexport default function VendorInventoryPage() {\r\n  const queryClient = useQueryClient();\r\n  const [searchTerm, setSearchTerm] = useState(\"\"); // 2. Add search state\r\n\r\n  // DATA FETCHING\r\n  const { data: products, isLoading } = useQuery({\r\n    queryKey: [\"vendor-products\"],\r\n    queryFn: async () => {\r\n      const res = await api.get(\"/products/vendor/my-products\"); \r\n      return Array.isArray(res.data) ? res.data : [];\r\n    }\r\n  });\r\n\r\n  // 3. FILTER LOGIC\r\n  // We filter the products based on the name or category matching the search term\r\n  const filteredProducts = products?.filter((product: any) => \r\n    product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    product.category.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const deleteMutation = useMutation({\r\n    mutationFn: async (productId: string) => {\r\n      return await api.delete(`/products/${productId}`);\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: [\"vendor-products\"] });\r\n      toast.success(\"Asset purged from registry\");\r\n    },\r\n    onError: () => toast.error(\"Authorization failed\")\r\n  });\r\n\r\n  const handleDelete = (productId: string) => {\r\n    if (confirm(\"CONFIRM ACTION: Permanently purge this asset?\")) {\r\n      deleteMutation.mutate(productId);\r\n    }\r\n  };\r\n\r\n  if (isLoading) return (\r\n    <div className=\"min-h-screen bg-[#020617] flex flex-col items-center justify-center\">\r\n      <Loader2 className=\"animate-spin text-blue-500 mb-4\" size={40} />\r\n      <p className=\"text-slate-500 font-black tracking-[0.3em] text-[10px] uppercase\">Indexing Assets...</p>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#020617] text-slate-100 p-6 md:p-12 selection:bg-blue-500/30\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        \r\n        {/* EXECUTIVE HEADER */}\r\n        <div className=\"flex flex-col md:flex-row justify-between items-end mb-12 gap-6\">\r\n          <div>\r\n            <div className=\"flex items-center gap-3 mb-2\">\r\n              <div className=\"w-2 h-2 rounded-full bg-blue-500 shadow-[0_0_10px_rgba(59,130,246,0.5)]\" />\r\n              <span className=\"text-[10px] font-black text-blue-500 uppercase tracking-[0.4em]\">Asset Management</span>\r\n            </div>\r\n            <h1 className=\"text-5xl font-[1000] tracking-tighter uppercase italic\">Inventory</h1>\r\n          </div>\r\n\r\n          <div className=\"flex gap-4 w-full md:w-auto\">\r\n            {/* 4. CONNECTED SEARCH INPUT */}\r\n            <div className=\"hidden lg:flex items-center gap-2 bg-[#0F172A] border border-blue-900/30 px-4 py-2 rounded-xl focus-within:border-blue-500 transition-all\">\r\n              <Search size={16} className=\"text-slate-500\" />\r\n              <input \r\n                type=\"text\" \r\n                placeholder=\"Search Assets...\" \r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)} // Update state on type\r\n                className=\"bg-transparent outline-none text-xs font-bold w-48 placeholder:text-slate-700 text-white\"\r\n              />\r\n            </div>\r\n            <Link \r\n              href=\"/vendor/products/create\" \r\n              className=\"flex-1 md:flex-none flex items-center justify-center gap-2 px-8 py-4 bg-blue-600 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-white hover:text-blue-600 transition-all shadow-[0_0_20px_rgba(37,99,235,0.2)]\"\r\n            >\r\n              <Plus size={18} /> New Product Listing\r\n            </Link>\r\n          </div>\r\n        </div>\r\n\r\n        {/* METRICS OVERVIEW (Uses products.length for total, but filteredProducts for display) */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10\">\r\n          {[\r\n            { label: \"Active Listings\", val: products?.length || 0, icon: Boxes, color: \"text-blue-500\" },\r\n            { label: \"Avg. Base Price\", val: `$${(products?.reduce((acc:any, p:any) => acc + p.pricePerUnit, 0) / (products?.length || 1)).toFixed(2)}`, icon: DollarSign, color: \"text-emerald-500\" },\r\n            { label: \"Inventory Health\", val: \"Optimal\", icon: ShieldCheck, color: \"text-blue-400\" },\r\n          ].map((stat, i) => (\r\n            <div key={i} className=\"bg-[#0F172A] p-6 rounded-[2rem] border border-blue-900/20 flex items-center gap-5\">\r\n              <div className={cn(\"w-12 h-12 rounded-2xl bg-white/5 flex items-center justify-center\", stat.color)}>\r\n                <stat.icon size={24} />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest\">{stat.label}</p>\r\n                <p className=\"text-2xl font-black text-white tracking-tighter tabular-nums\">{stat.val}</p>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* ASSET TABLE */}\r\n        <div className=\"bg-[#0F172A] rounded-[3rem] border border-blue-900/20 shadow-2xl overflow-hidden\">\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full text-left border-collapse\">\r\n              <thead>\r\n                <tr className=\"bg-blue-600/5 border-b border-blue-900/10\">\r\n                  <th className=\"px-8 py-6 text-[10px] font-black uppercase text-slate-500 tracking-[0.2em]\">Asset Identity</th>\r\n                  <th className=\"px-8 py-6 text-[10px] font-black uppercase text-slate-500 tracking-[0.2em]\">Classification</th>\r\n                  <th className=\"px-8 py-6 text-[10px] font-black uppercase text-slate-500 tracking-[0.2em]\">Unit Valuation</th>\r\n                  <th className=\"px-8 py-6 text-[10px] font-black uppercase text-slate-500 tracking-[0.2em]\">MOQ Threshold</th>\r\n                  <th className=\"px-8 py-6 text-[10px] font-black uppercase text-slate-500 tracking-[0.2em] text-right\">Terminal</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"divide-y divide-blue-900/10\">\r\n                {/* 5. MAP OVER filteredProducts INSTEAD OF products */}\r\n                {filteredProducts && filteredProducts.length > 0 ? (\r\n                  filteredProducts.map((product: any) => (\r\n                    <tr key={product._id} className=\"hover:bg-blue-600/[0.03] transition-all group\">\r\n                      <td className=\"px-8 py-6\">\r\n                        <div className=\"flex items-center gap-4\">\r\n                          <div className=\"w-14 h-14 bg-slate-800 rounded-2xl overflow-hidden border border-blue-900/20 group-hover:border-blue-500/50 transition-all\">\r\n                            {product.images?.[0] ? (\r\n                              <img src={product.images[0]} className=\"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity\" alt=\"\" />\r\n                            ) : (\r\n                              <div className=\"w-full h-full flex items-center justify-center text-slate-600\">\r\n                                <Package size={20} />\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                          <div>\r\n                            <span className=\"block font-black text-white italic uppercase tracking-tight group-hover:text-blue-400 transition-colors\">\r\n                              {product.name}\r\n                            </span>\r\n                            <span className=\"text-[10px] text-slate-500 font-bold uppercase tracking-tighter\">SKU-{product._id.slice(-6).toUpperCase()}</span>\r\n                          </div>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-8 py-6\">\r\n                        <span className=\"px-3 py-1 bg-white/5 border border-white/10 rounded-lg text-[10px] font-black text-slate-400 uppercase tracking-widest\">\r\n                          {product.category}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-8 py-6\">\r\n                        <span className=\"text-lg font-[1000] text-white tabular-nums\">${product.pricePerUnit}</span>\r\n                        <span className=\"block text-[9px] text-emerald-500 font-black uppercase tracking-[0.2em]\">Base Unit Price</span>\r\n                      </td>\r\n                      <td className=\"px-8 py-6\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <BarChart3 size={14} className=\"text-blue-500\" />\r\n                          <span className=\"font-black text-slate-300 tabular-nums\">{product.minimumOrderQuantity} UNITS</span>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-8 py-6 text-right\">\r\n                        <div className=\"flex justify-end gap-3 opacity-0 group-hover:opacity-100 transition-all translate-x-4 group-hover:translate-x-0\">\r\n                          <Link \r\n                            href={`/vendor/edit/${product._id}`} \r\n                            className=\"p-3 bg-blue-500/10 text-blue-400 hover:bg-blue-500 hover:text-white rounded-xl transition-all border border-blue-500/20\"\r\n                          >\r\n                            <Edit3 size={18} />\r\n                          </Link>\r\n                          <button \r\n                            onClick={() => handleDelete(product._id)} \r\n                            className=\"p-3 bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white rounded-xl transition-all border border-red-500/20\"\r\n                          >\r\n                            <Trash2 size={18} />\r\n                          </button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))\r\n                ) : (\r\n                  <tr>\r\n                    <td colSpan={5} className=\"py-32 text-center\">\r\n                      <Boxes className=\"mx-auto text-slate-800 mb-6\" size={64} />\r\n                      <p className=\"text-slate-500 font-black text-xl uppercase tracking-tighter italic\">\r\n                        {searchTerm ? \"No matches found for search\" : \"No Assets Registered\"}\r\n                      </p>\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}